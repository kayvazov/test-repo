import { E as defineComponent, k as inject, c as computed, r as ref, b as onMounted, e as watch, H as h, F as Fragment } from './iframe-B-YMhJRM.js';
import { d, p } from './form-B5TVLiQV.js';
import { t, o, f, E, s as s$1, A, T, a as o$1 } from './keyboard-Y5Ohh0Ec.js';
import { s } from './use-resolve-button-type-BRMzcgpv.js';

let S=Symbol("GroupContext"),ie=defineComponent({name:"Switch",emits:{"update:modelValue":l=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${t()}`}},inheritAttrs:!1,setup(l,{emit:p$1,attrs:a,slots:o$2,expose:f$1}){let t=inject(S,null),[i,r]=d(computed(()=>l.modelValue),e=>p$1("update:modelValue",e),computed(()=>l.defaultChecked));function s$2(){r(!i.value);}let w=ref(null),u=t===null?w:t.switchRef,g=s(computed(()=>({as:l.as,type:a.type})),u);f$1({el:u,$el:u});function k(e){e.preventDefault(),s$2();}function C(e){e.key===o$1.Space?(e.preventDefault(),s$2()):e.key===o$1.Enter&&p(e.currentTarget);}function E$1(e){e.preventDefault();}let c=computed(()=>{var e,n;return (n=(e=o(u))==null?void 0:e.closest)==null?void 0:n.call(e,"form")});return onMounted(()=>{watch([c],()=>{if(!c.value||l.defaultChecked===void 0)return;function e(){r(l.defaultChecked);}return c.value.addEventListener("reset",e),()=>{var n;(n=c.value)==null||n.removeEventListener("reset",e);}},{immediate:!0});}),()=>{let{id:e,name:n,value:L,form:D,...R}=l,K={checked:i.value},x={id:e,ref:u,role:"switch",type:g.value,tabIndex:0,"aria-checked":i.value,"aria-labelledby":t==null?void 0:t.labelledby.value,"aria-describedby":t==null?void 0:t.describedby.value,onClick:k,onKeyup:C,onKeypress:E$1};return h(Fragment,[n!=null&&i.value!=null?h(f,E({features:s$1.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:i.value,form:D,name:n,value:L})):null,A({ourProps:x,theirProps:{...a,...T(R,["modelValue","defaultChecked"])},slot:K,attrs:a,slots:o$2,name:"Switch"})])}}});

export { ie as i };
